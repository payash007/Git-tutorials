utility functions for verison 1