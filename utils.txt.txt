utility functions for verison 5